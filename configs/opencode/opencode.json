{
    "$schema": "https://opencode.ai/config.json",
    "formatter": {
        "rustfmt": {
            "command": ["rustfmt", "$FILE"],
            "extensions": [".rs"]
        },
        "taplo": {
            "command": ["taplo", "fmt", "$FILE"],
            "extensions": [".toml"]
        },
        "prettierd": {
            "command": ["prettierd", "$FILE"],
            "extensions": [".md", ".yaml", ".yml"]
        }
    },
    "lsp": {
        "rust": {
            "disabled": true
        },
        "ra-multiplex": {
            "command": ["ra-multiplex"],
            "extensions": [".rs"]
        }
    },
    "keybinds": {
        "leader": "ctrl+x",
        "app_exit": "ctrl+c,ctrl+d,<leader>q",
        "editor_open": "<leader>e",
        "theme_list": "<leader>t",
        "sidebar_toggle": "<leader>b",
        "status_view": "<leader>s",
        "session_export": "none",
        "session_new": "<leader>n",
        "session_list": "<leader>l",
        "session_timeline": "<leader>g",
        "session_share": "none",
        "session_unshare": "none",
        "session_interrupt": "escape",
        "session_compact": "<leader>c",
        "messages_page_up": "pageup",
        "messages_page_down": "pagedown",
        "messages_half_page_up": "ctrl+alt+u",
        "messages_half_page_down": "ctrl+alt+d",
        "messages_first": "ctrl+g,home",
        "messages_last": "ctrl+alt+g,end",
        "messages_copy": "<leader>y",
        "messages_undo": "<leader>u",
        "messages_redo": "<leader>r",
        "messages_toggle_conceal": "<leader>h",
        "model_list": "<leader>m",
        "model_cycle_recent": "f2",
        "model_cycle_recent_reverse": "shift+f2",
        "command_list": "<leader>p",
        "agent_list": "<leader>a",
        "agent_cycle": "tab",
        "agent_cycle_reverse": "shift+tab",
        "input_clear": "ctrl+c",
        "input_paste": "ctrl+v",
        "input_submit": "ctrl+return,ctrl+linefeed,ctrl+enter,ctrl+alt+return,ctrl+alt+linefeed,ctrl+alt+enter,alt+j,ctrl+alt+j",
        "input_newline": "return,ctrl+j",
        "history_previous": "up",
        "history_next": "down"
    },
    "agent": {
        "build": {
            "mode": "primary",
            "model": "anthropic/claude-opus-4-5-20251101",
            "tools": {
                "write": true,
                "edit": true,
                "bash": true
            },
            "permission": {
                "bash": {
                    "*": "allow",
                    "git checkout *": "deny",
                    "git add *": "deny",
                    "git reset *": "deny",
                    "git remove *": "deny",
                    "git commit *": "deny",
                    "git push *": "deny",
                    "git pull *": "deny",
                    "git merge *": "deny",
                    "git rebase *": "deny",
                    "git revert *": "deny",
                    "git cherry-pick *": "deny",
                    "git stash": "deny",
                    "git stash drop": "deny",
                    "git stash pop": "deny",
                    "git stash apply": "deny",
                    "git stash clear": "deny",
                    "git stash create": "deny",
                    "git stash store": "deny",
                    "brew install *": "deny"
                },
                "external_directory": "allow"
            }
        },
        "plan": {
            "mode": "primary",
            "model": "anthropic/claude-opus-4-5-20251101",
            "tools": {
                "write": false,
                "edit": false,
                "bash": true
            },
            "permission": {
                "bash": {
                    "gh api graphql *": "allow",
                    "gh auth status": "allow",
                    "gh issue list *": "allow",
                    "gh issue view *": "allow",
                    "gh pr list": "allow",
                    "gh pr view *": "allow",
                    "gh pr diff *": "allow",
                    "gh repo list *": "allow",
                    "gh repo view *": "allow",
                    "gh release list *": "allow",
                    "gh release view *": "allow",
                    "gh run list *": "allow",
                    "gh run view *": "allow",
                    "gh run download *": "allow",
                    "gh label list *": "allow",
                    "gh label view *": "allow",
                    "gh project view *": "allow",
                    "gh project list *": "allow",
                    "gh project item-list *": "allow",
                    "gh secret list": "allow",
                    "gh secret list *": "allow",
                    "gh status": "allow",
                    "gh help *": "allow",
                    "git status": "allow",
                    "git log *": "allow",
                    "git show *": "allow",
                    "git diff *": "allow",
                    "git diff-tree *": "allow",
                    "git branch *": "allow",
                    "git ls-files *": "allow",
                    "git remote get-url *": "allow",
                    "git help *": "allow",
                    "cargo tree *": "allow",
                    "cargo build": "allow",
                    "cargo build *": "allow",
                    "cargo check": "allow",
                    "cargo check *": "allow",
                    "cargo clippy": "allow",
                    "cargo clippy *": "allow",
                    "cargo doc": "allow",
                    "cargo doc *": "allow",
                    "cargo info": "allow",
                    "cargo info *": "allow",
                    "cargo test": "allow",
                    "cargo test *": "allow",
                    "cargo nextest *": "allow",
                    "cargo metadata": "allow",
                    "cargo metadata *": "allow",
                    "cargo run": "allow",
                    "cargo run *": "allow",
                    "cargo help": "allow",
                    "cargo help *": "allow",
                    "cargo search *": "allow",
                    "cargo machete": "allow",
                    "cargo machete *": "allow",
                    "cargo fmt --check": "allow",
                    "cargo fmt --check *": "allow",
                    "taplo fmt --check": "allow",
                    "taplo fmt --check *": "allow",
                    "bun test": "allow",
                    "bun test *": "allow",
                    "npm test": "allow",
                    "npm test *": "allow",
                    "npm view *": "allow",
                    "pnpm test": "allow",
                    "pnpm test *": "allow",
                    "rustc": "allow",
                    "rustc *": "allow",
                    "echo *": "allow",
                    "uniq": "allow",
                    "uniq *": "allow",
                    "ls": "allow",
                    "ls *": "allow",
                    "curl *": "allow",
                    "jq *": "allow",
                    "cat": "allow",
                    "cat *": "allow",
                    "sort": "allow",
                    "sort *": "allow",
                    "pwd": "allow",
                    "find *": "allow",
                    "grep *": "allow",
                    "head *": "allow",
                    "tail *": "allow",
                    "which *": "allow",
                    "true": "allow",
                    "false": "allow",
                    "uname *": "allow",
                    "wc *": "allow",
                    "rg *": "allow",
                    "xargs *": "allow",
                    "tr *": "allow",
                    "flyctl * list": "allow",
                    "flyctl apps list": "allow",
                    "flyctl logs": "allow",
                    "flyctl logs *": "allow",
                    "flyctl status": "allow",
                    "flyctl status *": "allow",
                    "nix search *": "allow",
                    "readelf *": "allow",
                    "llvm-objdump *": "allow",
                    "stat *": "allow",
                    "bpftool *": "allow",
                    "nix derivation show *": "allow",
                    "strings *": "allow",
                    "date": "allow",
                    "date *": "allow",
                    "*": "deny"
                },
                "external_directory": "allow"
            }
        }
    }
}
